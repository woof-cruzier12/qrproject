<!DOCTYPE html>
<html lang="en">

<head>
<!-- Required meta tags -->
<title id="title">Wifi Account Status</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS +  -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/fontello.css">
<link rel="stylesheet" href="css/animation.css">
<link rel="stylesheet" href="css/style.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8705800182105604"
 crossorigin="anonymous"></script>
</head>

<body>
<header id="header">
      <nav class="navbar navbar-expand-md fixed-top navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="img/logo-top.svg" alt="Home" width="120" height="40" class="d-inline-block align-top"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarScroll">
                <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                    <li class="nav-item">
                      <a class="nav-link active" aria-current="page" href="#loginhome">Status</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link active" aria-current="page" href="#faq">F.A.Q.</a>
                    </li>
                </ul>
            </div>
        </div>
      </nav>
</header>


<section id="loginhome" class="d-flex align-items-center">
    <div class="container mt-5">
        <div class="row align-items-center">
            <div id="status" class="col-lg-6 d-lg-flex flex-lg-column justify-content-center align-items-stretch pt-5 pt-lg-0 order-2 order-lg-1">
                <h2 style="color:black">Account Status</h2>
                <div id="tablestats" class="container-fluid">
                <table class="table table-striped table-bordered">
                    <tbody>
                        <tr>
                        <th scope="row" class="text-end">IP Address<i class="icon-signal"></i></th>
                        <td id="ip"></td>
                        </tr>
                        <tr>
                        <th scope="row" class="text-end">MAC Address<i class="icon-barcode"></i></th>
                        <td id="mac"></td>
                        </tr>
                        <tr>
                        <th scope="row" class="text-end">Total Upload<i class="icon-upload"></i></th>
                        <td id="totalup"></td>
                        </tr>
                        <tr>
                        <th scope="row" class="text-end">Total Download<i class="icon-download"></i></th>
                        <td id="totaldown"></td>
                        </tr>
                        <tr>
                        <th scope="row" class="text-end">Connection Uptime<i class="icon-mouse-pointer"></i></th>
                        <td id="uptime"></td>
                        </tr>
                        <tr>
                        <th scope="row" class="text-end">Remaining Time<i class="icon-stopwatch"></i></th>
                        <td id="timeleft"></td>
                        </tr>
                        <tr>
                        <th scope="row" class="text-end">Remaining Data<i class="animate-spin icon-arrows-cw"></i></th>
                        <td id="dataleft"></td>
                        </tr>
                </table>
                </div>
                <div>
                <p class="fst-italic" style="color:black">Printed above is your account status as of <span id="datetime"></span>.</p>
                </div>
                <div class="d-grid gap-2 d-md-block">
                <button id="refresh" class="btn btn-secondary btn-lg" onclick="return refresh(5000)"><i class="icon-arrows-cw"></i>Refresh</button>
                <a id="logout" class="btn btn-danger btn-lg" role="button" data-bs-toggle="modal" href="#confirmlogout"><i class="icon-logout"></i></i>Logout</a>
                </div>
                <div class="mt-4">
                </div>
            </div>
        </div>
    </div>
</section>

<section id="faq" class="d-flex align-items-center section-bg">
    <div class="container">
    <div class="section-title">
        <h2>Frequently Asked Questions</h2>
        <p>Narito ang mga sagot sa mga nahihirapan sa pag-login at iba pang mga katanungan sa paggamit ng aming serbisyo.</p>
    </div>
    <div class="accordion accordion-flush" id="faqflush">
        <div class="accordion-item">
        <h2 class="accordion-header" id="faqOne">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-collapseOne" aria-expanded="false" aria-controls="faq-collapseOne">
        Question not defined
        </button>
        </h2>
        <div id="faq-collapseOne" class="accordion-collapse collapse" aria-labelledby="faqOne" data-bs-parent="#faqflush">
        <div class="accordion-body">Unable to answer</div>
        </div>
        </div>
    </div>
</section>

<div class="modal fade" id="confirmlogout" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="login" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Logout Confirmation</h6>
            </div>
            <div class="modal-body">
                <div><h5>Are you sure you want to logout now?</h5></div>
            </div>
            <div class="modal-footer">
                <button id="yeslogout" type="button" class="btn btn-danger" onclick="return logout(3000)">Yes</button>
                <button id="nologout" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
        </div>
    </div>
</div>

<!-- jQuery first, then Bootstrap JS -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>  
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);

    function refresh(time) {
        setTimeout(function(){
        location.replace('http://kaybigan.hotspot/status');
        }, time);
        };
        
    function logout(time) {
        setTimeout(function(){
        location.replace('http://kaybigan.hotspot/logout?erase-cookie=on');
        }, time);
        };
        
    $("#refresh").click(function() {
      $( this ).addClass("disabled").html('<i class="animate-spin icon-spin4" role="status" aria-hidden="true"></i>' + 'Refreshing...');
      $("#logout").addClass("disabled")
    });
    
    $("#yeslogout").click(function() {
      $( this ).addClass("disabled").html('<i class="animate-spin icon-spin4" role="status" aria-hidden="true"></i>' + 'Signing out...');
      $("#nologout").addClass("disabled")
    });
        
    $("#datetime").html(new Date().toLocaleString());
    $("#ip").html(urlParams.get('ip'));
    $("#mac").html(urlParams.get('mac'));
    $("#totalup").html(urlParams.get('totalup'));
    $("#totaldown").html(urlParams.get('totaldown'));
    $("#uptime").html(urlParams.get('uptime'));
    $("#timeleft").html(urlParams.get('timeleft'));
    $("#dataleft").html(urlParams.get('dataleft'));
</script>
</body>
</html>